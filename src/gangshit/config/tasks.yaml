# config/tasks.yaml
tasks:
  research_task:
    agent: researcher
    input: "{topic}"
    description: >
      Research {topic} using trusted, authoritative sources.
      Synthesize findings, trends, and stakeholder insights.
      Output a structured, source-cited Markdown report for the analyst.
    expected_output:
      format: markdown
      contents:
        - executive_summary: "Concise overview (2â€“3 paragraphs)"
        - findings: "Key data and trends, with citations (2 or 3 sentences,+ e.g., [source](url))"
        - stakeholders: "Major entities and influences"
        - recommendations: "Next-step actions (e.g., give info to analyst_task)"
        - tables: "Data tables and relevant stats"
    handoff_to: analyst
    async: false

  analyst_task:
    agent: analyst
    input_from: research_task
    description: >
      Analyze research report. Develop technical architecture with system diagrams,
      stack choices (with rationale), and risk matrix. Emphasize scalability, security, and maintainability.
      Deliver Markdown spec to coding_agent.
    expected_output:
      format: markdown
      contents:
        - architecture: "Textual system diagrams"
        - stack: "Technology recommendations"
        - risks: "Assessment matrix"
        - timeline: "Implementation milestones"
        - resources: "Required resources/constraints"
    handoff_to: coding_agent
    async: false

  coding_task:
    agent: coding_agent
    input_from: analyst_task
    description: >
      Build a production-ready application per specs.
      Ensure high code quality, test coverage, documentation, and deployment instructions.
      Deliver full codebase to overlord.
    expected_output:
      format: files
      contents:
        - application: "Production code"
        - readme: "Setup and deployment"
        - api_docs: "If applicable"
        - metrics: "Code quality/security audit"
    handoff_to: overlord
    async: false

  overlord_task:
    agent: overlord
    input_from: coding_task + analyst_task + research_task
    description: >
      Overlord orchestrates providing tasks to agents.
      If agent fails to deliver, it retries or escalates.
      Integrate all outputs. Conduct QA and compile final deliverable.
      Ensure requirements met; provide executive summary and future recommendations.
    expected_output:
      format: markdown
      contents:
        - project_summary: "Executive summary"
        - qa_checklist: "QA results"
        - integration: "Testing log"
        - deployment: "Readiness assessment"
        - roadmap: "Maintenance/future enhancements"
    handoff_to: client
    async: true