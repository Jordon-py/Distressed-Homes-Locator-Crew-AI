research_task:
  agent: researcher
  input: "{topic}"
  description: >
    Research {topic} using diverse, authoritative sources. Summarize key findings, trends, and stakeholders.
    Cite all data. Output a structured Markdown report for the analyst.
  output_format: Markdown
  handoff: analyst
  expected_output: >
    - Executive summary (2â€“3 paragraphs)
    - Key findings with citations
    - Trends and stakeholder analysis
    - Actionable recommendations
    - Data tables/statistics

analyst_task:
  agent: analyst
  input: research_task output
  description: >
    Review research and draft a technical architecture based on {topic} and {requirements}. Assess feasibility, risks, and technical options,
    focusing on scalability, security, and maintainability. Output a Markdown spec for the coding agent.
  output_format: Markdown
  handoff: coding_agent
  expected_output: >
    - Architecture diagram (text description)
    - Technology stack rationale
    - Risk assessment matrix
    - Implementation timeline/milestones
    - Resource constraints

coding_task:
  agent: coding_agent
  input: analyst_task output
  description: >
    Build a production-grade application per specification. Ensure code quality, security, test coverage, {requirements}, and full documentation.
    Deliver complete codebase to the overlord.
  output_format: code files
  handoff: overlord
  expected_output: >
    - Application code
    - Unit/integration tests
    - README (setup/deploy)
    - API docs (if applicable)
    - Code metrics/security audit

overlord_task:
  agent: overlord
  input: coding_task output + analyst_task output + research_task output
  description: >
    Integrate all outputs, perform QA, and compile a final deliverable.
    Confirm project requirements and document recommendations for ongoing maintenance.
  output_format: Markdown
  handoff: client/stakeholders
  expected_output: >
    - Project executive summary
    - QA checklist/results
    - Integration testing log
    - Deployment assessment
    - Maintenance/future roadmap
